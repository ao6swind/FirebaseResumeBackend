<nz-layout>
  <nz-sider nzCollapsible  [(nzCollapsed)]="isCollapsed" [nzCollapsedWidth]="0" [nzBreakpoint]="'lg'">
    <div *ngIf="afAuth.authState | async; let user">
      <div class="logo">
        <a routerLink="">
          <img src="assets/img/banner.png">
        </a>
      </div>
      <ul nz-menu [nzTheme]="'dark'" [nzMode]="isCollapsed ? 'vertical' : 'inline'" >
        <li nz-menu-item routerLink="profile">
          <span>
            <i class="anticon anticon-caret-right"></i>
            <span class="nav-text">自傳</span>
          </span>
        </li>

        <li nz-menu-item routerLink="education">
          <span>
            <i class="anticon anticon-caret-right"></i>
            <span class="nav-text">學歷</span>
          </span>
        </li>

        <li nz-menu-item routerLink="experience">
          <span>
            <i class="anticon anticon-caret-right"></i>
            <span class="nav-text">經歷</span>
          </span>
        </li>

        <li nz-menu-item routerLink="skill">
          <span>
            <i class="anticon anticon-caret-right"></i>
            <span class="nav-text">技術</span>
          </span>
        </li>
        
        <li nz-menu-item routerLink="project">
          <span>
            <i class="anticon anticon-caret-right"></i>
            <span class="nav-text">專案</span>
          </span>
        </li>

        <li nz-menu-item (click)="logout()">
          <span>
            <i class="anticon anticon-caret-right"></i>
            <span class="nav-text">登出</span>
          </span>
        </li>
      </ul>
    </div>
  </nz-sider>
  <nz-layout>
    <nz-header>
      <div nz-row *ngIf="afAuth.authState | async">
        <div nz-col nzSpan="8">
          <i class="anticon trigger" 
            [class.anticon-menu-fold]="!isCollapsed" 
            [class.anticon-menu-unfold]="isCollapsed" 
            (click)="isCollapsed=!isCollapsed"></i>
        </div>
        <div nz-col nzSpan="8" nzOffset="8">
          <div *ngIf="afAuth.authState">
            <nz-select [(ngModel)]="language" (change)="redirect()">
              <nz-option nzValue="en-US" nzLabel="English"></nz-option>
              <nz-option nzValue="zh-TW" nzLabel="中文"></nz-option>
            </nz-select>
          </div>
        </div>
      </div>
    </nz-header>
    <nz-content>
      <div>
        <router-outlet></router-outlet>
      </div>
    </nz-content>
    <nz-footer>Wind &copy; {{ current | date:'yyyy' }}</nz-footer>
  </nz-layout>
</nz-layout>